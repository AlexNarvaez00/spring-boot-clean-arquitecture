package mx.edu.itoaxaca.api.v1.{{name}}.application;

import static org.mockito.Mockito.times;
import static org.mockito.Mockito.verify;

import mx.edu.itoaxaca.api.v1.period.domain.{{Name}};
import mx.edu.itoaxaca.api.v1.period.domain.{{Name}}Mother;
import mx.edu.itoaxaca.api.v1.period.infrastructure.persistence.{{Name}}RepositoryMock;
import org.junit.jupiter.api.Test;
import org.mockito.Mockito;

import java.util.UUID;
import mx.edu.itoaxaca.api.v1.{{name}}.domain.{{Name}}Repository;

public class {{Name}}DestroyTest {

    @Test
    public static void runTest() {
        var destroyer = new {{Name}}Destroy();

        {{Name}} period = {{Name}}Mother.random(true);

        var repo = {{Name}}RepositoryMock.mock;
        Mockito.when(repo.find{{Name}}ById(period.getId())).thenReturn(period);

        Mockito.doNothing().when(repo).deleteById(period.getId());
        {{Name}}Destroy.run(repo, period.getId());

        verify(repo, times(1));
    }
}
